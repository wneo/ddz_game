{"version":3,"sources":["assets/scripts/util/event_lister.js"],"names":["eventLister","obj","register","on","type","method","hasOwnProperty","push","fire","methodList","i","length","handle","args","arguments","console","log","apply","removeLister","removeAllLister"],"mappings":";;;;;;;;;AAAA,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAASC,GAAT,EAAa;EAC7B,IAAIC,QAAQ,GAAG,EAAf;;EAEAD,GAAG,CAACE,EAAJ,GAAS,UAASC,IAAT,EAAcC,MAAd,EAAqB;IAC1B,IAAGH,QAAQ,CAACI,cAAT,CAAwBF,IAAxB,CAAH,EAAiC;MAC7BF,QAAQ,CAACE,IAAD,CAAR,CAAeG,IAAf,CAAoBF,MAApB;IACH,CAFD,MAEK;MACDH,QAAQ,CAACE,IAAD,CAAR,GAAiB,CAACC,MAAD,CAAjB;IACH;EACJ,CAND;;EAQAJ,GAAG,CAACO,IAAJ,GAAW,UAASJ,IAAT,EAAc;IACrB,IAAGF,QAAQ,CAACI,cAAT,CAAwBF,IAAxB,CAAH,EAAkC;MAC9B,IAAIK,UAAU,GAAGP,QAAQ,CAACE,IAAD,CAAzB;;MACA,KAAI,IAAIM,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACD,UAAU,CAACE,MAAzB,EAAgC,EAAED,CAAlC,EAAoC;QAChC,IAAIE,MAAM,GAAGH,UAAU,CAACC,CAAD,CAAvB;QACA,IAAIG,IAAI,GAAG,EAAX;;QACA,KAAI,IAAIH,CAAC,GAAG,CAAZ,EAAcA,CAAC,GAACI,SAAS,CAACH,MAA1B,EAAiC,EAAED,CAAnC,EAAqC;UACjCG,IAAI,CAACN,IAAL,CAAUO,SAAS,CAACJ,CAAD,CAAnB;QACH,CAL+B,CAOhC;;;QACAK,OAAO,CAACC,GAAR,CAAY,iCAA+BZ,IAA3C;QACAQ,MAAM,CAACK,KAAP,CAAa,IAAb,EAAkBJ,IAAlB;MACH;IACJ;EACJ,CAfD;;EAiBAZ,GAAG,CAACiB,YAAJ,GAAmB,UAASd,IAAT,EAAc;IAC7BF,QAAQ,CAACE,IAAD,CAAR,GAAiB,EAAjB;EACH,CAFD;;EAIAH,GAAG,CAACkB,eAAJ,GAAsB,YAAU;IAC5BjB,QAAQ,GAAG,EAAX;EACH,CAFD;;EAIA,OAAOD,GAAP;AACH,CArCD;;eAuCeD","sourceRoot":"/","sourcesContent":["const eventLister = function(obj){\n    var register = {}\n\n    obj.on = function(type,method){\n        if(register.hasOwnProperty(type)){\n            register[type].push(method)\n        }else{\n            register[type] = [method]\n        }\n    }\n\n    obj.fire = function(type){\n        if(register.hasOwnProperty(type)) {\n            var methodList = register[type]\n            for(var i=0;i<methodList.length;++i){\n                var handle = methodList[i]\n                var args = []\n                for(var i = 1;i<arguments.length;++i){\n                    args.push(arguments[i])\n                }\n\n                //handle.call(this,args)\n                console.log(\"handle.call(this,args) type:\"+type)\n                handle.apply(this,args)\n            } \n        }\n    }\n\n    obj.removeLister = function(type){\n        register[type] = []\n    }\n\n    obj.removeAllLister = function(){\n        register = {}\n    }\n\n    return obj\n}\n\nexport default eventLister"]}
{"version":3,"sources":["assets/scripts/hallscene/prefabs_script/creatRoom.js"],"names":["cc","Class","Component","properties","start","_createroom","rate","console","log","global","room_para","myglobal","socket","request_creatroom","err","result","JSON","stringify","playerData","bottom","director","loadScene","onButtonClick","event","customData","node","destroy"],"mappings":";;;;;;AAAA;;;;AACAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,UAAU,EAAE,EAHP;EAOL;EAEA;EAEAC,KAXK,mBAWI,CAER,CAbI;EAeLC,WAfK,uBAeOC,IAfP,EAeY;IACb,IAAGA,IAAI,GAAC,CAAL,IAAUA,IAAI,GAAC,CAAlB,EAAoB;MAChBC,OAAO,CAACC,GAAR,CAAY,2BAA0BF,IAAtC;MACA;IACH;;IAED,IAAIG,MAAM,GAAG,CAAb;;IACA,IAAIH,IAAI,IAAE,CAAV,EAAY;MACRG,MAAM,GAAG,EAAT;IACH,CAFD,MAEM,IAAGH,IAAI,IAAE,CAAT,EAAW;MACbG,MAAM,GAAG,EAAT;IACH,CAFK,MAEA,IAAGH,IAAI,IAAE,CAAT,EAAW;MACbG,MAAM,GAAG,EAAT;IACH,CAFK,MAEA,IAAGH,IAAI,IAAE,CAAT,EAAW;MACbG,MAAM,GAAG,EAAT;IACH;;IAED,IAAIC,SAAS,GAAG;MACRD,MAAM,EAACA,MADC;MAERH,IAAI,EAACA;IAFG,CAAhB,CAjBa,CAqBL;;IACAK,oBAAA,CAASC,MAAT,CAAgBC,iBAAhB,CAAkCH,SAAlC,EAA4C,UAASI,GAAT,EAAaC,MAAb,EAAoB;MAC5D,IAAID,GAAG,IAAE,CAAT,EAAW;QACPP,OAAO,CAACC,GAAR,CAAY,qBAAmBM,GAA/B;MACH,CAFD,MAEK;QACDP,OAAO,CAACC,GAAR,CAAY,gBAAgBQ,IAAI,CAACC,SAAL,CAAeF,MAAf,CAA5B,EADC,CAED;;QACAJ,oBAAA,CAASO,UAAT,CAAoBC,MAApB,GAA6BJ,MAAM,CAACI,MAApC;QACAR,oBAAA,CAASO,UAAT,CAAoBZ,IAApB,GAA2BS,MAAM,CAACT,IAAlC;QACAN,EAAE,CAACoB,QAAH,CAAYC,SAAZ,CAAsB,WAAtB;MACH;IAEJ,CAXD;EAYX,CAjDI;EAmDL;EACAC,aApDK,yBAoDSC,KApDT,EAoDeC,UApDf,EAoD0B;IAC3B,QAAOA,UAAP;MACI,KAAK,eAAL;QACM,KAAKnB,WAAL,CAAiB,CAAjB;;QACA;;MACN,KAAK,eAAL;QACM,KAAKA,WAAL,CAAiB,CAAjB;;QACA;;MACN,KAAK,eAAL;QACM,KAAKA,WAAL,CAAiB,CAAjB;;QACA;;MACN,KAAK,eAAL;QACM,KAAKA,WAAL,CAAiB,CAAjB;;QACA;;MACN,KAAK,mBAAL;QACM,KAAKoB,IAAL,CAAUC,OAAV;QACF;;MACJ;QACI;IAjBR;;IAmBA,KAAKD,IAAL,CAAUC,OAAV;EAEH;AA1EI,CAAT","sourceRoot":"/","sourcesContent":["import myglobal from \"../../mygolbal.js\"\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n     \n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n\n    },\n\n    _createroom(rate){\n        if(rate<0 || rate>4){\n            console.log(\"create room rate error\"+ rate)\n            return\n        }\n\n        var global = 0\n        if (rate==1){\n            global = 10\n        }else if(rate==2){\n            global = 20\n        }else if(rate==3){\n            global = 30\n        }else if(rate==4){\n            global = 40\n        }\n\n        var room_para = {\n                global:global,\n                rate:rate\n                }\n                //播放一个等待动画\n                myglobal.socket.request_creatroom(room_para,function(err,result){\n                    if (err!=0){\n                        console.log(\"create_room err:\"+err)\n                    }else{\n                        console.log(\"create_room\" + JSON.stringify(result))\n                        //网络数据包\n                        myglobal.playerData.bottom = result.bottom\n                        myglobal.playerData.rate = result.rate\n                        cc.director.loadScene(\"gameScene\")\n                    }\n\n                })\n    },\n\n    // update (dt) {},\n    onButtonClick(event,customData){\n        switch(customData){\n            case \"create_room_1\":\n                  this._createroom(1)\n                  break\n            case \"create_room_2\":\n                  this._createroom(2)\n                  break\n            case \"create_room_3\":\n                  this._createroom(3)\n                  break\n            case \"create_room_4\":\n                  this._createroom(4)\n                  break\n            case \"create_room_close\":\n                  this.node.destroy() \n                break       \n            default:\n                break\n        }\n        this.node.destroy() \n\n    }\n\n});\n"]}